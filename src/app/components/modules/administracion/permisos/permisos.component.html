<body class="formato-fondo fuente-letra">
    <div class="row mb-3">
        <div class="col-12 d-flex justify-content-between align-items-center">
            <h3>Administraci√≥n de usuarios, roles y permisos</h3>
            <app-boton-notificacion></app-boton-notificacion>
        </div>
    </div>

    <div class="navbar-urp">
        <a [routerLink]="['/home']" routerLinkActive="active">
            <button class="nav-button">USUARIOS</button>
        </a>
        <a [routerLink]="['/about']" routerLinkActive="active">
            <button class="nav-button">ROLES</button>
        </a>
        <a [routerLink]="['/administracion/permisos']" routerLinkActive="active">
            <button class="nav-button">PERMISOS</button>
        </a>
    </div>

    <p-card>
        <div class="content-container">
            <div class="dropdown-container">
                <label for="dropdown1">Rol*</label>
                <select id="dropdown1" (change)="onSelectChangeRol($event)">
                    <option *ngFor="let option of selectRoles" [value]="option.id">
                        {{ option.roleName }}
                    </option>
                </select>
            </div>
            <div class="dropdown-container">
                <label for="dropdown2">Modulo*</label>
                <select id="dropdown2" (change)="onSelectChangeModulo($event)">
                    <option *ngFor="let option of selectModulos" [value]="option.id">
                        {{ option.nombre }}
                    </option>
                </select>
            </div>
            
            <div class="buttons-container">
                <button class="consultar-button" (click)="onConsultarClick()">CONSULTAR</button>
                <button class="limpiar-button" (click)="onLimpiarClick()">LIMPIAR</button>
            </div>
        </div>
    </p-card>

    <p-card>
        <div class="header">
            <button class="top-right-button" (click)="onGuardarClick()">GUARDAR</button>
        </div>
        <br>
        <div>

            <p-table [value]="tableData" [paginator]="true" [rows]="5" [first]="first" [showCurrentPageReport]="true"
                [tableStyle]="{ 'min-width': '50rem' }" (onPage)="pageChange($event)"
                [rowsPerPageOptions]="[10, 25, 50]"
                currentPageReportTemplate="Mostrando {first} de {last} de {totalRecords}">
                <ng-template pTemplate="header">
                    <tr>
                        <th class="large-column">Funcionalidad</th>
                        <th>Crear</th>
                        <th>Consultar</th>
                        <th>Editar</th>
                        <th>Eliminar</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-tableData>
                    <tr>
                        <td>{{ tableData.funcionalidad.descripcion }}</td>
                        <td><p-checkbox [binary]="true" [(ngModel)]="tableData.canAdd" (onChange)="onCheckboxChange($event, tableData, 'canAdd')"></p-checkbox></td>
                        <td><p-checkbox [binary]="true" [(ngModel)]="tableData.canView" (onChange)="onCheckboxChange($event, tableData, 'canView')"></p-checkbox></td>
                        <td><p-checkbox [binary]="true" [(ngModel)]="tableData.canEdit" (onChange)="onCheckboxChange($event, tableData, 'canEdit')"></p-checkbox></td>
                        <td><p-checkbox [binary]="true" [(ngModel)]="tableData.canDele" (onChange)="onCheckboxChange($event, tableData, 'canDele')"></p-checkbox></td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </p-card>
</body>